# spring-security

基于spring-security+jwt实现授权认证；

##开始
1、导入db下脚本；
2、修改mysql redis 配置信息
3、启动 SpringSecurityApplication

## 登录，获取token

POST http://localhost:8080/auth

```
{"username": "user", "password": "password"}
```
## 获取登录人菜单权限

POST http://localhost:8080/refreshQx

Authorization  Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyIiwidXNlcl9pZCI6IjgiLCJyb2xlX2lkIjoiMiIsInJpZ2h0cyI6IjExMzM2NzEwNTUzMjEwNTUyNTgzNzQ3MDc5ODA5NDUyMTg5MzM4MDMyNjk4NjQ3NjI3NDM1OTQ2NDI1NzEyOTQiLCJleHAiOjE1NTY1OTM1NjAsImlhdCI6MTU1NTk4ODc2MH0.afcHDC7aOSQQtnFDnmeJtAGS3_Q3U-yG19S1YlImcH3bgfJjMxkbZhmelIbOHjPvKQ0DeXZRT0kr_8kkpgVeLg
Head 增加请求头信息
```
key : Authorization 
value: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyIiwidXNlcl9pZCI6IjgiLCJyb2xlX2lkIjoiMiIsInJpZ2h0cyI6IjExMzM2NzEwNTUzMjEwNTUyNTgzNzQ3MDc5ODA5NDUyMTg5MzM4MDMyNjk4NjQ3NjI3NDM1OTQ2NDI1NzEyOTQiLCJleHAiOjE1NTY1OTM1NjAsImlhdCI6MTU1NTk4ODc2MH0.afcHDC7aOSQQtnFDnmeJtAGS3_Q3U-yG19S1YlImcH3bgfJjMxkbZhmelIbOHjPvKQ0DeXZRT0kr_8kkpgVeLg
```

eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyIiwidXNlcl9pZCI6IjgiLCJyb2xlX2lkIjoiMiIsInJpZ2h0cyI6IjExMzM2NzEwNTUzMjEwNTUyNTgzNzQ3MDc5ODA5NDUyMTg5MzM4MDMyNjk4NjQ3NjI3NDM1OTQ2NDI1NzEyOTQiLCJleHAiOjE1NTY1OTM1NjAsImlhdCI6MTU1NTk4ODc2MH0.afcHDC7aOSQQtnFDnmeJtAGS3_Q3U-yG19S1YlImcH3bgfJjMxkbZhmelIbOHjPvKQ0DeXZRT0kr_8kkpgVeLg
为生成的key

## 获取登录人信息

POST http://localhost:8080/user

Authorization  Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyIiwidXNlcl9pZCI6IjgiLCJyb2xlX2lkIjoiMiIsInJpZ2h0cyI6IjExMzM2NzEwNTUzMjEwNTUyNTgzNzQ3MDc5ODA5NDUyMTg5MzM4MDMyNjk4NjQ3NjI3NDM1OTQ2NDI1NzEyOTQiLCJleHAiOjE1NTY1OTM1NjAsImlhdCI6MTU1NTk4ODc2MH0.afcHDC7aOSQQtnFDnmeJtAGS3_Q3U-yG19S1YlImcH3bgfJjMxkbZhmelIbOHjPvKQ0DeXZRT0kr_8kkpgVeLg
Head 增加请求头信息
```
key : Authorization 
value: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyIiwidXNlcl9pZCI6IjgiLCJyb2xlX2lkIjoiMiIsInJpZ2h0cyI6IjExMzM2NzEwNTUzMjEwNTUyNTgzNzQ3MDc5ODA5NDUyMTg5MzM4MDMyNjk4NjQ3NjI3NDM1OTQ2NDI1NzEyOTQiLCJleHAiOjE1NTY1OTM1NjAsImlhdCI6MTU1NTk4ODc2MH0.afcHDC7aOSQQtnFDnmeJtAGS3_Q3U-yG19S1YlImcH3bgfJjMxkbZhmelIbOHjPvKQ0DeXZRT0kr_8kkpgVeLg
```
## 权限拦截

  参考MenuController

通过增加注解    @Permit(url=menuUrl)；指定登录人需要有哪个链接权限；